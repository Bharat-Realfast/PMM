<template>
    <lightning-record-edit-form
        object-api-name={objectApiName}
        record-id={recordId}
        onsuccess={handleSuccess}
        if:true={objectApiName}
    >
        <lightning-layout horizontal-align="center" multiple-rows="true">
            <lightning-layout-item size={sizes.large} class="slds-var-p-bottom_small">
                <c-section title={labels.scheduleInformation}></c-section>
            </lightning-layout-item>
            <lightning-layout-item size={sizes.small}>
                <lightning-layout multiple-rows="true" if:true={fieldSet}>
                    <template for:each={fieldSet} for:item="field">
                        <lightning-layout-item key={field.apiName} size={field.size}>
                            <lightning-input-field
                                field-name={field.apiName}
                            ></lightning-input-field>
                        </lightning-layout-item>
                    </template>
                </lightning-layout>
            </lightning-layout-item>

            <lightning-layout-item
                size={sizes.large}
                class="slds-var-p-top_small slds-var-p-bottom_small"
            >
                <c-section title={labels.dateTime}></c-section>
            </lightning-layout-item>
            <lightning-layout-item size={sizes.small}>
                <lightning-layout multiple-rows="true">
                    <lightning-layout-item size={sizes.large}>
                        <lightning-input-field
                            field-name={fields.start}
                        ></lightning-input-field
                    ></lightning-layout-item>
                    <lightning-layout-item size={sizes.large}>
                        <lightning-input-field
                            field-name={fields.end}
                        ></lightning-input-field
                    ></lightning-layout-item>
                    <lightning-layout-item
                        size={sizes.large}
                        class="slds-var-p-bottom_small slds-var-p-left_xxx-small"
                    >
                        <c-picklist
                            object-api-name={objectApiName}
                            field-api-name={fields.frequency}
                            onselect={handleFrequencyChange}
                        ></c-picklist>
                    </lightning-layout-item>
                    <lightning-layout-item
                        size={sizes.large}
                        class="slds-var-p-bottom_small slds-var-p-left_xxx-small"
                        if:true={isWeekly}
                    >
                        <c-picklist
                            object-api-name={objectApiName}
                            field-api-name={fields.daysOfWeek}
                            multi-select="true"
                            onselect={handleDaysOfWeekChange}
                        ></c-picklist>
                    </lightning-layout-item>
                    <lightning-layout-item size={sizes.small}>
                        <lightning-input-field
                            field-name={fields.seriesEnd}
                        ></lightning-input-field
                    ></lightning-layout-item>
                </lightning-layout>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-record-edit-form>
</template>
